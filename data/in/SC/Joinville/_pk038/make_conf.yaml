pkid:      38
pkversion: 1
schemaId_input:    ref027a  # ID do JSON-schema de input, ref no preimeiro template a usar este padrão de input.
schemaId_template: ref027a  # ID do makefile.mustache, ref no preimeiro package a usar o template.
thisTplFile_root: digital-preservation-BR
need_commands:    7z psql shp2pgsql
srid: 31982
files:
  -
    p:    1
    file: 3d4a6f528249d062a0bcfb18aa6c115828bb651a164617489c14017b6433c02a.zip
    name: Lotes
  -
    p:    2
    file: 3d4a6f528249d062a0bcfb18aa6c115828bb651a164617489c14017b6433c02a.zip
    name: Lotes rurais
  -
    p:    3
    file: 207c82a3f2fa79f943c7b393b0e4fe636ff60305302f9c64c8364851fc6bf6c2.zip
    name: Eixos
  -
    p:    4
    file: 3d4a6f528249d062a0bcfb18aa6c115828bb651a164617489c14017b6433c02a.zip
    name: Edificações
  -
    p:    5
    file: 3d4a6f528249d062a0bcfb18aa6c115828bb651a164617489c14017b6433c02a.zip
    name: Quadras

parts:
  geoaddress_full: # config própria desse template, em sao paulo seria array
        p: 1a   # identifcador do layer, pode ter mais de um por file
        file: 1
        orig_filename: lotes2020_uso
        tabname:  geoaddress
        sql_select: row_number() OVER () as gid, SIGLA_TIPO_LOGRADOURO || ' ' || NOME_LOGRADOURO as via_name,
                     NUMERO_IMOVEL || Iff(LETRA_IMOVEL,LETRA_IMOVEL,'') as pointer_number,
                     ST_GeomFromText(GEOMETRIA,31983) as geom
        array: ['gid','via_name','poiter_number','geom']
  geoaddress_none:
        p: 2a
        file: 2
        orig_filename: Lotes_rurais
        tabname:  geoaddress
        sql_select:  gid,geom
        array: ['gid','geom']
  via_full:
        p: 3a
        file: 3
        orig_filename: logradouros
        tabname:  via
        sql_select:  gid,nomelog as via_name, geom
        array: ['gid','via_name','geom']
  genericvia_none:
        p: 5a
        file: 5
        orig_filename: Quadras
        tabname:  genericvia
        sql_select:  gid,geom
        array: ['gid','geom']
